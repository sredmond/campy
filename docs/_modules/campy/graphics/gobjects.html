

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>campy.graphics.gobjects &mdash; campy 0.0.1.dev6 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
<!-- Begin extrahead block. -->
<!-- Autogenerated favicon head tags from realfavicongenerator.net -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#ffc40d">
<meta name="theme-color" content="#ffffff">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-54146031-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-54146031-4');
</script>
<!-- End extrahead block. -->

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> campy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"></div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">campy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>campy.graphics.gobjects</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for campy.graphics.gobjects</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Provide a hierarchy of graphical shapes based on the ACM Graphics model.</span>

<span class="sd">This module exports the superclass :class:`GObject`, as well as derived classes:</span>

<span class="sd">- :class:`GRect`</span>
<span class="sd">- :class:`GRoundRect`</span>
<span class="sd">- :class:`G3DRect`</span>
<span class="sd">- :class:`GOval`</span>
<span class="sd">- :class:`GArc`</span>
<span class="sd">- :class:`GLine`</span>
<span class="sd">- :class:`GImage`</span>
<span class="sd">- :class:`GLabel`</span>
<span class="sd">- :class:`GPolygon`</span>

<span class="sd">There is also a :class:`GCompound` class to facilitate nested object structures.</span>

<span class="sd">For more information on how to use each of these objects, see the comments on</span>
<span class="sd">each class.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># TODO(sredmond): Handle lifecycles and deletion of these objects.</span>
<span class="kn">import</span> <span class="nn">campy.graphics.gcolor</span> <span class="k">as</span> <span class="nn">_gcolor</span>
<span class="kn">import</span> <span class="nn">campy.graphics.gfont</span> <span class="k">as</span> <span class="nn">_gfont</span>
<span class="kn">import</span> <span class="nn">campy.graphics.gmath</span> <span class="k">as</span> <span class="nn">_gmath</span>
<span class="kn">import</span> <span class="nn">campy.graphics.gtypes</span> <span class="k">as</span> <span class="nn">_gtypes</span>
<span class="kn">import</span> <span class="nn">campy.private.platform</span> <span class="k">as</span> <span class="nn">_platform</span>

<span class="kn">from</span> <span class="nn">collections.abc</span> <span class="k">import</span> <span class="n">MutableSequence</span>
<span class="kn">import</span> <span class="nn">pathlib</span>
<span class="kn">import</span> <span class="nn">math</span>


<div class="viewcode-block" id="GObject"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GObject">[docs]</a><span class="k">class</span> <span class="nc">GObject</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;The common superclass of all graphical objects that can be displayed on a graphical window.</span>

<span class="sd">    For examples illustrating the use of the GObject class, see the descriptions</span>
<span class="sd">    of the individual subclasses.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize a GObject with reasonable default values.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_y</span> <span class="o">=</span> <span class="mf">0.0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="n">_gcolor</span><span class="o">.</span><span class="n">GColor</span><span class="o">.</span><span class="n">BLACK</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_line_width</span> <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># TODO(sredmond): Lots of GObjects currently ignore self._line_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set the x-coordinate of this :class:`GObject`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x</span>

    <span class="nd">@x</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set the y-coordinate of this :class:`GObject`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y</span>

    <span class="nd">@y</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set the location of this object as a :class:`GPoint`.</span>

<span class="sd">        You can supply either a GPoint or a 2-element tuple to this property.</span>
<span class="sd">        Accessing this property will return a GPoint which can be unpacked as a</span>
<span class="sd">        tuple.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GPoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

    <span class="nd">@location</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">point</span><span class="p">):</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">point</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_set_location</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<div class="viewcode-block" id="GObject.move"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GObject.move">[docs]</a>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Move this object on the screen using the supplied displacements.</span>

<span class="sd">        :param dx: The displacement in the x-direction.</span>
<span class="sd">        :param dy: The displacement in the y-direction.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the bounding box for this object.</span>

<span class="sd">        The bounding box of an object is the smallest rectangle that covers</span>
<span class="sd">        everything drawn by the figure. The coordinates of this rectangle will</span>
<span class="sd">        usually, but not always, match the object&#39;s location. For example, the</span>
<span class="sd">        location of a :class:`GLabel` gives the coordinates of the point on the</span>
<span class="sd">        baseline where the string begins. However, the bounds of the GLabel</span>
<span class="sd">        represent a rectangle that entirely covers the window area occupied by</span>
<span class="sd">        the GLabel.</span>

<span class="sd">        Subclasses must override this property (and optionally declare a setter)</span>
<span class="sd">        to indicate their bounding box.</span>

<span class="sd">        :returns: The bounding box of this GObject.</span>
<span class="sd">        :rtype: :class:`GRectangle`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Make this an abstract method?</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GRectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the width of this :class:`GObject`.</span>

<span class="sd">        The width of an object is the same as the width of its bounding box.</span>

<span class="sd">        :returns: The width (in pixels) of this GObject.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">width</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the height of this :class:`GObject`.</span>

<span class="sd">        The height of an object is the same as the height of its bounding box.</span>

<span class="sd">        :returns: The height (in pixels) of this GObject.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">height</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the size of this :class:`GObject` as a :class:`GDimension`.</span>

<span class="sd">        :returns: The size of this GObject in pixels.</span>
<span class="sd">        :rtype: :class:`GDimension`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GDimension</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set the color used to draw this object.</span>

<span class="sd">        The supplied color can be any object acceptable to :class:`GColor`, so</span>
<span class="sd">        check that class&#39;s documentation for complete details on arguments.</span>

<span class="sd">        Usually, the supplied color will be one of the predefined colors:</span>

<span class="sd">            - BLACK</span>
<span class="sd">            - BLUE</span>
<span class="sd">            - CYAN</span>
<span class="sd">            - DARK_GRAY</span>
<span class="sd">            - GRAY</span>
<span class="sd">            - GREEN</span>
<span class="sd">            - LIGHT_GRAY</span>
<span class="sd">            - MAGENTA</span>
<span class="sd">            - ORANGE</span>
<span class="sd">            - PINK</span>
<span class="sd">            - RED</span>
<span class="sd">            - WHITE</span>
<span class="sd">            - YELLOW</span>

<span class="sd">        TODO(sredmond): Add more detail to the possible colors with examples.</span>

<span class="sd">        Accessing this property will return a :class:`GColor` which can be</span>
<span class="sd">        used anywhere that expects a color.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): It looks like setting the color for a gobject won&#39;t change the outside.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>

    <span class="nd">@color</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="n">_gcolor</span><span class="o">.</span><span class="n">GColor</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_set_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">line_width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set the line width used to draw this :class:`GObject`.&quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Add more documentation here.</span>
        <span class="c1"># TODO(sredmond): Does line width need to be an integer?</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_line_width</span>

    <span class="nd">@line_width</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">line_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_line_width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_set_line_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">visible</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set whether this :class:`GObject` is visible.</span>

<span class="sd">        A :class:`GObject` that is visible will still exist on a GWindow once added.</span>

<span class="sd">        Usage::</span>

<span class="sd">            window = GWindow()</span>
<span class="sd">            oval = GOval(0, 0, 41, 41)</span>
<span class="sd">            window.add(oval)</span>
<span class="sd">            print(oval.visible)  # =&gt; True</span>
<span class="sd">            oval.visible = False  # Hides the oval on the window.</span>
<span class="sd">            print(oval.visible)  # =&gt; False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span>

    <span class="nd">@visible</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">visible</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flag</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="n">flag</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gwindow_set_visible</span><span class="p">(</span><span class="n">flag</span><span class="p">,</span> <span class="n">gobj</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="GObject.scale"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GObject.scale">[docs]</a>    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scales</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Scale this object by the given scale factor(s).</span>

<span class="sd">        Most clients use the one-argument form, which scales an object in both</span>
<span class="sd">        dimensions. To double the size of a GOval::</span>

<span class="sd">            oval = GOval(0, 0, 41, 41)</span>
<span class="sd">            oval.scale(2)</span>
<span class="sd">            print(oval.width, oval.height)  # =&gt; 82, 82</span>

<span class="sd">        There is also a two-argument form which applies separate scale factors</span>
<span class="sd">        to the x- and y-dimensions::</span>

<span class="sd">            oval = GOval(0, 0, 41, 41)</span>
<span class="sd">            oval.scale(3, 5)</span>
<span class="sd">            print(oval.width, oval.height)  # =&gt; 123, 205</span>

<span class="sd">        It is an error to call this function with no arguments, or with three or</span>
<span class="sd">        more arguments.</span>

<span class="sd">        :param scales: The scale factors by which to scale this object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Does this scale about the center or about the origin?</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">scales</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">scales</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span>  <span class="c1"># TODO(sredmond): Actually fail if the number of scale factors isn&#39;t 1 or 2.</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">scales</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">sx</span><span class="p">,</span> <span class="n">sy</span> <span class="o">=</span> <span class="n">scales</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">scales</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sx</span><span class="p">,</span> <span class="n">sy</span> <span class="o">=</span> <span class="n">scales</span>

        <span class="c1"># Mark this object as transformed so we know to defer to the platform&#39;s methods.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sx</span><span class="p">,</span> <span class="n">sy</span><span class="p">)</span></div>

<div class="viewcode-block" id="GObject.rotate"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GObject.rotate">[docs]</a>    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">theta</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rotate this object some degrees counterclockwise about its origin.</span>

<span class="sd">        :param: The angle (in degrees) about which to rotate this object about its origin.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Mark this object as transformed so we know to defer to the platform&#39;s methods.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span></div>

<div class="viewcode-block" id="GObject.send_forward"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GObject.send_forward">[docs]</a>    <span class="k">def</span> <span class="nf">send_forward</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Moves this object one step toward the front in the z dimension.</span>

<span class="sd">        If it was already at the front of the stack, nothing happens.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">send_forward</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="GObject.send_to_front"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GObject.send_to_front">[docs]</a>    <span class="k">def</span> <span class="nf">send_to_front</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Move this object to the front of the display in the z dimension.</span>

<span class="sd">        By moving it to the front, this object will appear to be on top of the</span>
<span class="sd">        other graphical objects on the display and may hide any objects that</span>
<span class="sd">        are further back.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">send_forward</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="GObject.send_backward"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GObject.send_backward">[docs]</a>    <span class="k">def</span> <span class="nf">send_backward</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Moves this object one step toward the back in the z dimension.</span>

<span class="sd">        If it was already at the back of the stack, nothing happens.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">send_backward</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="GObject.send_to_back"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GObject.send_to_back">[docs]</a>    <span class="k">def</span> <span class="nf">send_to_back</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Move this object to the back of the display in the z dimension.</span>

<span class="sd">        By moving it to the back, this object will appear to be behind the other</span>
<span class="sd">        graphical objects on the display and may be obscured by other objects</span>
<span class="sd">        that are further forward.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">send_to_back</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">point</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Implement ``point in self``.</span>

<span class="sd">        Check whether a given :class:`GPoint` or 2-element tuple is contained</span>
<span class="sd">        within the bounding box of this :class:`GObject`.</span>

<span class="sd">        Subclasses can override this method to provide shape-specific containment</span>
<span class="sd">        checks. For example, the :class:`GOval` class provides a custom method to</span>
<span class="sd">        check for containment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): It sort of feels like all of the subclasses (except GImage and GLabel)</span>
        <span class="c1"># just define their own contains anyway. Is it still good design to keep this implementation here?</span>
        <span class="c1"># Attempt to unpack the supplied point as a tuple.</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">point</span>

        <span class="c1"># TODO(sredmond): Should we really just offload the work if it happens to be transformed?</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the GCompound that contains this object, if it exists.</span>

<span class="sd">        Each :class:`GWindow` has a single :class:`GCompound` that is aligned</span>
<span class="sd">        with the window. Adding objects to the window adds them to the window&#39;s</span>
<span class="sd">        top :class:`GCompound`. So, a :class:`GObject` does not have a parent</span>
<span class="sd">        until it is added to a :class:`GCompound`, either directly or by way of</span>
<span class="sd">        adding the :class:`GObject` to a :class:`GWindow`::</span>

<span class="sd">            window = GWindow()</span>
<span class="sd">            oval = GOval(0, 0, 41, 41)</span>
<span class="sd">            print(oval.parent is None)  # =&gt; True</span>
<span class="sd">            window.add(oval)</span>
<span class="sd">            print(oval.parent is None)  # =&gt; False</span>

<span class="sd">        :returns: This object&#39;s parent :class:`GCompound`, if it exists.</span>
<span class="sd">        :rtype: :class:`GCompound`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span></div>

<span class="c1"># SECTION: Graphical Mixins</span>
<div class="viewcode-block" id="GFillableObject"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GFillableObject">[docs]</a><span class="k">class</span> <span class="nc">GFillableObject</span><span class="p">(</span><span class="n">GObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Representation of a :class:`GObject` that can be filled.</span>

<span class="sd">    Subclasses of :class:`GFillableObject` have a boolean property ``filled``</span>
<span class="sd">    and a :class:`GColor`-valued property ``fill_color``.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_filled</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fill_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>  <span class="c1"># Default to the outline color.</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">filled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set whether this object is filled.</span>

<span class="sd">        A value of True corresponds to filled and a value of False corresponds to outlined.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filled</span>

    <span class="nd">@filled</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">filled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_filled</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_filled</span> <span class="o">=</span> <span class="n">is_filled</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_set_filled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_filled</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fill_color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the color used to fill this object.</span>

<span class="sd">        If none has been set, return the empty string.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fill_color</span>

    <span class="nd">@fill_color</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">fill_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">_gcolor</span><span class="o">.</span><span class="n">GColor</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fill_color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_set_fill_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fill_color</span><span class="p">)</span></div>

<span class="c1"># END SECTION: Graphical Mixins</span>

<div class="viewcode-block" id="GRect"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GRect">[docs]</a><span class="k">class</span> <span class="nc">GRect</span><span class="p">(</span><span class="n">GFillableObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Graphical representation of a rectangular box.</span>

<span class="sd">    To add a filled red rectangle with width 200 and height 100 to a :class:`GWindow`::</span>

<span class="sd">        window = GWindow()</span>
<span class="sd">        rect = GRect(200, 100)</span>
<span class="sd">        rect.filled = True</span>
<span class="sd">        rect.color = &quot;RED&quot;</span>
<span class="sd">        window.add(rect, 0, 0)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a rectangle of a width and height with an optional location.</span>

<span class="sd">        The two required arguments represent the width and the height of the</span>
<span class="sd">        :class:`GRect`, in pixels. Keyword arguments can be supplied to set the</span>
<span class="sd">        initial location of the :class:`GRect`.</span>

<span class="sd">        A :class:`GRect` defaults to being unfilled and outlined in black. The</span>
<span class="sd">        default location for a new :class:`GRect` is at (0, 0).</span>

<span class="sd">        To create a :class:`GRect` with width 200 and height 100::</span>

<span class="sd">            rect = GRect(200, 100)</span>

<span class="sd">        To create a 300x400 :class:`GRect` at position (50, 80)</span>

<span class="sd">            rect = GRect(200, 100, x=50, y=80)</span>

<span class="sd">        :param width: The width of the rectangle in pixels.</span>
<span class="sd">        :param height: The height of the rectangle in pixels.</span>
<span class="sd">        :param x: The x-coordinate of the top-left corner of this rectangle.</span>
<span class="sd">        :param y: The y-coordinate of the top-left corner of this rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

    <span class="c1"># @property</span>
    <span class="c1"># def size(self):</span>
    <span class="c1">#     return self.width, self.height</span>

    <span class="c1"># TODO(sredmond): Figure out how to set width as a property from an inherited getter.</span>

    <span class="c1"># @property</span>
    <span class="c1"># def setSize(self, size=None, width=None, height=None):</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     Changes the size of this rectangle to the specified width and height.</span>

    <span class="c1">#     @type size: GDimention</span>
    <span class="c1">#     @type width: float</span>
    <span class="c1">#     @type height: float</span>
    <span class="c1">#     @param size: GDimension, will override height and width</span>
    <span class="c1">#     @rtype: void</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     if(size != None):</span>
    <span class="c1">#         width = size.getWidth()</span>
    <span class="c1">#         height = size.getHeight()</span>

    <span class="c1">#     if(width == None or height == None): return</span>

    <span class="c1">#     if(self._transformed):</span>
    <span class="c1">#         raise Exception(&quot;setSize: Object has been transformed&quot;)</span>

    <span class="c1">#     self.width = width</span>
    <span class="c1">#     self.height = height</span>
    <span class="c1">#     _platform.Platform().gobject_set_size(self, width, height)</span>

    <span class="c1"># def setBounds(self, bounds=None, x=None, y=None, width=None, height=None):</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     Changes the bounds of this rectangle to the specified values.</span>

    <span class="c1">#     @type bounds: GRectangle</span>
    <span class="c1">#     @type x: float</span>
    <span class="c1">#     @type y: float</span>
    <span class="c1">#     @type width: float</span>
    <span class="c1">#     @type height: float</span>
    <span class="c1">#     @param bounds: bounding rectangle, will override other parameters</span>
    <span class="c1">#     @rtype: void</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     if(bounds != None):</span>
    <span class="c1">#         x = bounds.getX()</span>
    <span class="c1">#         y = bounds.getY()</span>
    <span class="c1">#         width = bounds.getWidth()</span>
    <span class="c1">#         height = bounds.getHeight()</span>

    <span class="c1">#     if(x == None or y == None or width == None or height == None): return</span>

    <span class="c1">#     self.setLocation(x=x, y=y)</span>
    <span class="c1">#     self.setSize(width=width, height=height)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the bounding box for this :class:`GRect`.</span>

<span class="sd">        The bounding box of a :class:`GRect` is simply the rectangle&#39;s bounds</span>
<span class="sd">        itself.</span>

<span class="sd">        :returns: A bounding box that covers this :class:`GRect`.</span>
<span class="sd">        :rtype: :class:`GRectangle`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): What do we we do about transformed rectangles?</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">):</span> <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_get_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GRectangle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;GRect(</span><span class="si">{self.width}</span><span class="s2">, </span><span class="si">{self.height}</span><span class="s2">, x=</span><span class="si">{self.x}</span><span class="s2">, y=</span><span class="si">{self.y}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="GRoundRect"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GRoundRect">[docs]</a><span class="k">class</span> <span class="nc">GRoundRect</span><span class="p">(</span><span class="n">GRect</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Graphical representation of a rectangular box with rounded corners.</span>

<span class="sd">    The rounded corners are quarter-circle arcs of a fixed diameter.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO(sredmond): Add documentation from the GRect object here</span>

    <span class="c1"># The number of pixels in the diameter of the arc forming the corner.</span>
    <span class="n">CORNER_ROUNDING</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">corner</span><span class="o">=</span><span class="n">CORNER_ROUNDING</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new rounded rectangle with the supplied width and height.</span>

<span class="sd">        The caller can also specify x and y coordinates for the top-left corner</span>
<span class="sd">        of this :class:`GRoundRect`&#39;s bounding box.</span>

<span class="sd">        The corner parameter gives the diameter of the arc forming the corner,</span>
<span class="sd">        with a reasonable default. The higher this number is, the more rounded</span>
<span class="sd">        the resulting rectangle will be.</span>

<span class="sd">        :param width: The width of the rounded rectangle in pixels.</span>
<span class="sd">        :param height: The height of the rounded rectangle in pixels.</span>
<span class="sd">        :param x: The x-coordinate of the top-left corner of this rounded rectangle.</span>
<span class="sd">        :param y: The y-coordinate of the top-left corner of this rounded rectangle.</span>
<span class="sd">        :param corner: The diameter in pixels of the rounded arcs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">corner</span> <span class="o">=</span> <span class="n">corner</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">groundrect_constructor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">corner</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO(sredmond): It&#39;s a little awkward that the constructor argument order is different.</span>
        <span class="k">return</span> <span class="s2">&quot;GRoundRect(x=</span><span class="si">{self.x}</span><span class="s2">, y=</span><span class="si">{self.y}</span><span class="s2">, width=</span><span class="si">{self.width}</span><span class="s2">, height=</span><span class="si">{self.height}</span><span class="s2">, corner=</span><span class="si">{self.corner}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="G3DRect"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.G3DRect">[docs]</a><span class="k">class</span> <span class="nc">G3DRect</span><span class="p">(</span><span class="n">GRect</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Graphical representation of a rectangular box that can be raised or lowered.</span>

<span class="sd">    The 3D effect of this rectangle is purely aesthetic and does not affect the</span>
<span class="sd">    rectangle&#39;s z-positioning on the parent :class:`GCompound`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO(sredmond): Add more documentation from the GRect object here</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raised</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new 3D rectangle with the supplied width and height.</span>

<span class="sd">        The caller can also specify x and y coordinates for the top-left corner</span>
<span class="sd">        of this :class:`G3DRect`&#39;s bounding box.</span>

<span class="sd">        If this rectangle is raised (defaulting to False), then the rectangle is</span>
<span class="sd">        drawn with highlights that suggest that it is raised about the background.</span>

<span class="sd">        :param width: The width of the 3D rectangle in pixels.</span>
<span class="sd">        :param height: The height of the 3D rectangle in pixels.</span>
<span class="sd">        :param x: The x-coordinate of the top-left corner of this 3D rectangle.</span>
<span class="sd">        :param y: The y-coordinate of the top-left corner of this 3D rectangle.</span>
<span class="sd">        :param raised: Whether to draw the 3D rectangle as raised (or lowered)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raised</span> <span class="o">=</span> <span class="n">raised</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">g3drect_constructor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">raised</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">raised</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set whether this object appears raised.</span>

<span class="sd">        True represents a rectangle with highlights to appear raised above the background.</span>
<span class="sd">        False represents a rectangle with highlights to appear lowered above the background.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_raised</span>

    <span class="nd">@raised</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">raised</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_raised</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raised</span> <span class="o">=</span> <span class="n">is_raised</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">g3drect_set_raised</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_raised</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO(sredmond): It&#39;s a little awkward that the constructor argument order is different.</span>
        <span class="k">return</span> <span class="s2">&quot;G3DRect(x=</span><span class="si">{self.x}</span><span class="s2">, y=</span><span class="si">{self.y}</span><span class="s2">, width=</span><span class="si">{self.width}</span><span class="s2">, height=</span><span class="si">{self.height}</span><span class="s2">, raised=</span><span class="si">{self.raised}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="GOval"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GOval">[docs]</a><span class="k">class</span> <span class="nc">GOval</span><span class="p">(</span><span class="n">GFillableObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Graphical representation of an oval inscribed in a rectangular box.</span>

<span class="sd">    To display a filled green oval::</span>

<span class="sd">        window = GWindow()</span>
<span class="sd">        oval = gobjects.GOval(window.width, window.height)</span>
<span class="sd">        oval.filled = True</span>
<span class="sd">        oval.color = &quot;GREEN&quot;</span>
<span class="sd">        window.add(oval)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize a new oval inscribed in a rectangular box.</span>

<span class="sd">        By default, the corner of the rectangular box is at (0, 0). By</span>
<span class="sd">        specifying x- and y- coordinates as keyword arguments, the caller can</span>
<span class="sd">        locate the oval at a given position.</span>


<span class="sd">        :param width: The width of the bounding rectangle in pixels.</span>
<span class="sd">        :param height: The height of the bounding rectangle in pixels.</span>
<span class="sd">        :param x: The x-coordinate of the top-left corner of the bounding rectangle.</span>
<span class="sd">        :param y: The y-coordinate of the top-left corner of the bounding rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="c1"># _platform.Platform().goval_constructor(self, width, height)</span>
        <span class="c1"># TODO(sredmond): At the moment, this needs to be after the constructor line. This is a sign of a bad organization and should be changed.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

    <span class="c1"># def setSize(self, width=None, height=None, size=None):</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     Changes the size of the bounding rectangle to the specified width</span>
    <span class="c1">#     and height.</span>

    <span class="c1">#     @type width: float</span>
    <span class="c1">#     @type height: float</span>
    <span class="c1">#     @type size: GDimension</span>
    <span class="c1">#     @param size: will override height and width parameters</span>
    <span class="c1">#     @rtype: void</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     if(self._transformed): raise Exception(&quot;setSize: Object has been transformed&quot;)</span>
    <span class="c1">#     if(size != None):</span>
    <span class="c1">#         width = size.width</span>
    <span class="c1">#         height = size.height</span>

    <span class="c1">#     self.width = width</span>
    <span class="c1">#     self.height = height</span>
    <span class="c1">#     _platform.Platform().gobject_set_size(self, width, height)</span>

    <span class="c1"># def setBounds(self, x=None, y=None, width=None, height=None, bounds=None):</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     Changes the bounds of the oval to the specified values.</span>

    <span class="c1">#     @type x: float</span>
    <span class="c1">#     @type y: float</span>
    <span class="c1">#     @type width: float</span>
    <span class="c1">#     @type height: float</span>
    <span class="c1">#     @type bounds: GRectangle</span>
    <span class="c1">#     @param bounds: will override all other parameters</span>
    <span class="c1">#     @rtype: void</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     if(bounds != None):</span>
    <span class="c1">#         x, y, width, height = bounds</span>

    <span class="c1">#     self.setLocation(x=x, y=y)</span>
    <span class="c1">#     self.setSize(width, height)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the bounding box for this :class:`GOval`.</span>

<span class="sd">        The bounding box of a :class:`GOval` is simply the bounding rectangle.</span>

<span class="sd">        :returns: A bounding box that covers this :class:`GOval`.</span>
<span class="sd">        :rtype: :class:`GRectangle`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): What do we we do about transformed rectangles?</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">):</span> <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_get_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GRectangle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">point</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Implement ``point in self``.</span>

<span class="sd">        Check whether a given :class:`GPoint` or 2-element tuple is contained</span>
<span class="sd">        within this oval. A point is contained within the oval if it lies</span>
<span class="sd">        completely inside the oval or is on the boundary.</span>

<span class="sd">        :param point: The :class:`GPoint` or 2-element tuple to check.</span>
<span class="sd">        :returns: Whether the point is within this oval.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Attempt to unpack the supplied point as a tuple.</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">point</span>

        <span class="c1"># TODO(sredmond): How should I handle transformed GObjects?</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="n">rx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">ry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">rx</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">ry</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># No points in a line.</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># `point` is at (dx, dy) relative to ellipse center.</span>
        <span class="n">dx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">rx</span><span class="p">)</span>
        <span class="n">dy</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">ry</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">dx</span> <span class="o">*</span> <span class="n">dx</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">rx</span> <span class="o">*</span> <span class="n">rx</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">dy</span> <span class="o">*</span> <span class="n">dy</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">ry</span> <span class="o">*</span> <span class="n">ry</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;GOval(</span><span class="si">{self.width}</span><span class="s2">, </span><span class="si">{self.height}</span><span class="s2">, x=</span><span class="si">{self.x}</span><span class="s2">, y=</span><span class="si">{self.y}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="GArc"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GArc">[docs]</a><span class="k">class</span> <span class="nc">GArc</span><span class="p">(</span><span class="n">GFillableObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Graphical representation of an elliptical arc.</span>

<span class="sd">    An elliptical arc is uniquely determined by the following three parameters:</span>

<span class="sd">    - The coordinates of the ellipse&#39;s bounding rectangle (width, height) and (x, y)</span>
<span class="sd">    - The angle at which the arc starts (start)</span>
<span class="sd">    - The number of degrees that the arc covers (sweep)</span>

<span class="sd">    All angles in the :class:`GArc` class are measured in degrees counterclockwise</span>
<span class="sd">    from the positive x-axis. Negative angles refer to degrees clockwise.</span>

<span class="sd">    To create an semicircle arc starting 45 degrees counterclockwise of the</span>
<span class="sd">    positive x-axis with diameter 50::</span>

<span class="sd">        window = GWindow()</span>
<span class="sd">        arc = GArc(50, 50, 45, 180, x=0, y=0)</span>
<span class="sd">        window.add(arc)</span>

<span class="sd">    If a :class:`GArc` is unfilled, the figure consists only of the arc itself.</span>

<span class="sd">    If a :class:`GArc` is filled, the figure consists of the</span>
<span class="sd">    pie-shaped wedge formed by connecting the endpoints of the arc to</span>
<span class="sd">    the center.</span>

<span class="sd">    For example, the following program draws a 270-degree arc starting at 45</span>
<span class="sd">    degrees filled in yellow, similar to the PacMan video game::</span>

<span class="sd">        window = GWindow()</span>
<span class="sd">        center = GPoint(window.width / 2, window.height / 2)</span>
<span class="sd">        radius = 25</span>
<span class="sd">        pacman = GArc(2 * radius, 2 * radius, 45, 270</span>
<span class="sd">            x=center.x - radius, y=center.y - radius)</span>
<span class="sd">        pacman.filled = True</span>
<span class="sd">        pacman.fill_color = &quot;YELLOW&quot;</span>
<span class="sd">        window.add(pacman)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">sweep</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize a new :class:`GArc` consisting of an elliptical arc.</span>


<span class="sd">        By default, the corner of the rectangular box is at (0, 0). By</span>
<span class="sd">        specifying x- and y- coordinates as keyword arguments, the caller can</span>
<span class="sd">        locate the arc&#39;s bounding rectangle at a given position.</span>

<span class="sd">        :param width: The width of the bounding rectangle in pixels.</span>
<span class="sd">        :param height: The height of the bounding rectangle in pixels.</span>
<span class="sd">        :param start: The angle at which the arc starts (in degrees) from the positive x-axis.</span>
<span class="sd">        :param sweep: The angle that the arc sweeps out (in degrees).</span>
<span class="sd">        :param x: The x-coordinate of the top-left corner of the bounding rectangle.</span>
<span class="sd">        :param y: The y-coordinate of the top-left corner of the bounding rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

        <span class="c1"># What are these?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frameWidth</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frameHeight</span> <span class="o">=</span> <span class="n">height</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sweep</span> <span class="o">=</span> <span class="n">sweep</span>
        <span class="c1"># _platform.Platform().garc_constructor(self, width, height, start, sweep)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set the starting angle (in degrees) of this :class:`GArc`.</span>

<span class="sd">        The starting angle is measured in degrees counterclockwise from the</span>
<span class="sd">        positive x-axis.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start</span>

    <span class="nd">@start</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_angle</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="n">start_angle</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">garc_set_start_angle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set the sweep angle (in degrees) of this :class:`GArc`.</span>

<span class="sd">        The sweep angle is measured in degrees and represents the number of</span>
<span class="sd">        degrees carved out by this :class:`GArc`. For example, a semi-elliptical</span>
<span class="sd">        arc has a sweep of 180 degrees.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Enforce that sweep is between 0 and 360. or perhaps -360 and 360</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep</span>

    <span class="nd">@sweep</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sweep_angle</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sweep</span> <span class="o">=</span> <span class="n">sweep_angle</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">garc_set_sweep_angle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sweep_angle</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">start_point</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the :class:`GPoint` at which the arc starts.&quot;&quot;&quot;</span>
        <span class="n">rx</span><span class="p">,</span> <span class="n">ry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">rx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">ry</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GPoint</span><span class="p">(</span><span class="n">cx</span> <span class="o">+</span> <span class="n">rx</span> <span class="o">*</span> <span class="n">_gmath</span><span class="o">.</span><span class="n">cos_degrees</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">),</span> <span class="n">cy</span> <span class="o">-</span> <span class="n">ry</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin_degrees</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">end_point</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the :class:`GPoint` at which the arc ends.&quot;&quot;&quot;</span>
        <span class="n">rx</span><span class="p">,</span> <span class="n">ry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">rx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">ry</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GPoint</span><span class="p">(</span><span class="n">cx</span> <span class="o">+</span> <span class="n">rx</span> <span class="o">*</span> <span class="n">_gmath</span><span class="o">.</span><span class="n">cos_degrees</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sweep</span><span class="p">),</span> <span class="n">cy</span> <span class="o">-</span> <span class="n">ry</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin_degrees</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sweep</span><span class="p">))</span>

    <span class="c1"># TODO(sredmond): Expose a setter for the start point or end point?</span>

    <span class="c1"># def setFrameRectangle(self, x=None, y=None, width=None, height=None, rect=None):</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     Changes the boundaries of the rectangle used to frame the arc.</span>

    <span class="c1">#     @type x: float</span>
    <span class="c1">#     @type y: float</span>
    <span class="c1">#     @type width: float</span>
    <span class="c1">#     @type height: float</span>
    <span class="c1">#     @type rect: GRectangle</span>
    <span class="c1">#     @param rect: bounding frame, will override other parameters</span>
    <span class="c1">#     @rtype: void</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     if(rect != None):</span>
    <span class="c1">#         x = rect.getX()</span>
    <span class="c1">#         y = rect.getY()</span>
    <span class="c1">#         width = rect.getWidth()</span>
    <span class="c1">#         height = rect.getHeight()</span>

    <span class="c1">#     self.location = x, y</span>
    <span class="c1">#     self.frameWidth = width</span>
    <span class="c1">#     self.frameHeight = height</span>
    <span class="c1">#     _platform.Platform().garc_set_frame_rectangle(self, x, y, width, height)</span>

    <span class="c1"># def getFrameRectangle(self):</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     Returns the boundaries of the rectangle used to frame the arc.</span>

    <span class="c1">#     @rtype: GRectangle</span>
    <span class="c1">#     &#39;&#39;&#39;</span>
    <span class="c1">#     return _gtypes.GRectangle(0,0,0,0) #!!</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the bounding rectangle for this arc.</span>

<span class="sd">        @rtype: GRectangle</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Should this be small if the arc is small?</span>
        <span class="c1"># TODO(sredmond): Write this method.</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">):</span> <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_get_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">rx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frameWidth</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">ry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frameHeight</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">cx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">rx</span>
        <span class="n">cy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">ry</span>

        <span class="n">startRadians</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">*</span> <span class="n">_gmath</span><span class="o">.</span><span class="n">PI</span> <span class="o">/</span> <span class="mi">180</span>
        <span class="n">sweepRadians</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sweep</span> <span class="o">*</span> <span class="n">_gmath</span><span class="o">.</span><span class="n">PI</span> <span class="o">/</span> <span class="mi">180</span>

        <span class="n">p1x</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">startRadians</span><span class="p">)</span> <span class="o">*</span> <span class="n">rx</span>
        <span class="n">p1y</span> <span class="o">=</span> <span class="n">cy</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">startRadians</span><span class="p">)</span> <span class="o">*</span> <span class="n">ry</span>
        <span class="n">p2x</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">startRadians</span> <span class="o">+</span> <span class="n">sweepRadians</span><span class="p">)</span> <span class="o">*</span> <span class="n">rx</span>
        <span class="n">p2y</span> <span class="o">=</span> <span class="n">cy</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">startRadians</span> <span class="o">+</span> <span class="n">sweepRadians</span><span class="p">)</span> <span class="o">*</span> <span class="n">ry</span>

        <span class="n">xMin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">p1x</span><span class="p">,</span> <span class="n">p2x</span><span class="p">)</span>
        <span class="n">xMax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">p1x</span><span class="p">,</span> <span class="n">p2x</span><span class="p">)</span>
        <span class="n">yMin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">p1y</span><span class="p">,</span> <span class="n">p2y</span><span class="p">)</span>
        <span class="n">yMax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">p1y</span><span class="p">,</span> <span class="n">p2y</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">containsAngle</span><span class="p">(</span><span class="mi">0</span><span class="p">):</span> <span class="n">xMax</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">+</span> <span class="n">rx</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">containsAngle</span><span class="p">(</span><span class="mi">90</span><span class="p">):</span> <span class="n">yMin</span> <span class="o">=</span> <span class="n">cy</span> <span class="o">-</span> <span class="n">ry</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">containsAngle</span><span class="p">(</span><span class="mi">180</span><span class="p">):</span> <span class="n">xMin</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">-</span> <span class="n">rx</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">containsAngle</span><span class="p">(</span><span class="mi">270</span><span class="p">):</span> <span class="n">yMax</span> <span class="o">=</span> <span class="n">cy</span> <span class="o">+</span> <span class="n">ry</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filled</span><span class="p">:</span>
            <span class="n">xMin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span> <span class="n">cx</span><span class="p">)</span>
            <span class="n">yMin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">yMin</span><span class="p">,</span> <span class="n">cy</span><span class="p">)</span>
            <span class="n">xMax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">xMax</span><span class="p">,</span> <span class="n">cx</span><span class="p">)</span>
            <span class="n">yMax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">yMax</span><span class="p">,</span> <span class="n">cy</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GRectangle</span><span class="p">(</span><span class="n">xMin</span><span class="p">,</span> <span class="n">yMin</span><span class="p">,</span> <span class="n">xMax</span> <span class="o">-</span> <span class="n">xMin</span><span class="p">,</span> <span class="n">yMax</span> <span class="o">-</span> <span class="n">yMin</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">2.5</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Implement ``point in self``.</span>

<span class="sd">        A :class:`GArc` contains a point if and only if the point is contained</span>
<span class="sd">        inside of the pie wedge defined by the bounds of the arc.</span>

<span class="sd">        # For advanced users, this method is overloaded with an optional tolerance</span>
<span class="sd">        # parameter. Since *almost* no one will ever want to directly call</span>
<span class="sd">        # ``self.__contains__(point)``, the tolerance defaults to a reasonable value.</span>
<span class="sd">        # However, to check for containment with a custom tolerance, call::</span>

<span class="sd">        #     line = GLine(0, 0, 5, 5)</span>
<span class="sd">        #     print(line.__contains__((2, 2), tolerance=0.5))  # =&gt; False</span>

<span class="sd">        # :param point: The :class:`GPoint` or 2-element tuple to check.</span>
<span class="sd">        # :param tolerance: The maximum distance (in pixels) to still count as containment.</span>
<span class="sd">        # :returns: Whether the point is within a tolerance of any point on this line.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns whether or not this object contains the point x, y</span>

<span class="sd">        @type x: float</span>
<span class="sd">        @type y: float</span>
<span class="sd">        @rtype: boolean</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># TODO(sredmond): Write this method correctly.</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">):</span> <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="n">rx</span> <span class="o">=</span> <span class="n">frameWidth</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">ry</span> <span class="o">=</span> <span class="n">frameHeight</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">rx</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">ry</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>
        <span class="n">dx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">rx</span><span class="p">)</span>
        <span class="n">dy</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">ry</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">dx</span> <span class="o">*</span> <span class="n">dx</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">rx</span> <span class="o">*</span> <span class="n">rx</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">dy</span> <span class="o">*</span> <span class="n">dy</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">ry</span> <span class="o">*</span> <span class="n">ry</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fillFlag</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="o">&gt;</span> <span class="mf">1.0</span><span class="p">):</span> <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">tolerance</span> <span class="o">/</span> <span class="p">((</span><span class="n">rx</span> <span class="o">+</span> <span class="n">ry</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">#!!</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">t</span><span class="p">):</span> <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">containsAngle</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="n">dy</span><span class="p">,</span> <span class="n">dx</span><span class="p">)</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="n">_gmath</span><span class="o">.</span><span class="n">PI</span><span class="p">)</span>

<div class="viewcode-block" id="GArc.containsAngle"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GArc.containsAngle">[docs]</a>    <span class="k">def</span> <span class="nf">containsAngle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">theta</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Internal method</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">start</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sweep</span><span class="p">)</span>
        <span class="n">sweep</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sweep</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">sweep</span> <span class="o">&gt;=</span> <span class="mi">360</span><span class="p">):</span> <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span><span class="p">(</span><span class="n">theta</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span> <span class="n">theta</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">fmod</span><span class="p">(</span><span class="o">-</span><span class="n">theta</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">theta</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">fmod</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">start</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">fmod</span><span class="p">(</span><span class="o">-</span><span class="n">start</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">start</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">fmod</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">sweep</span> <span class="o">&gt;</span> <span class="mi">360</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">theta</span> <span class="o">&gt;=</span> <span class="n">start</span> <span class="ow">or</span> <span class="n">theta</span> <span class="o">&lt;=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">sweep</span> <span class="o">-</span> <span class="mi">360</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">theta</span> <span class="o">&gt;=</span> <span class="n">start</span> <span class="ow">and</span> <span class="n">theta</span> <span class="o">&lt;=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">sweep</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;GArc(</span><span class="si">{self.frame_width}</span><span class="s2">, </span><span class="si">{self.frame_height}</span><span class="s2">, </span><span class="si">{self.start}</span><span class="s2">, </span><span class="si">{self.sweep}</span><span class="s2">, x=</span><span class="si">{self.x}</span><span class="s2">, y=</span><span class="si">{self.y}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="GLine"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GLine">[docs]</a><span class="k">class</span> <span class="nc">GLine</span><span class="p">(</span><span class="n">GObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Graphical representation of a line segment defined by two endpoints.</span>

<span class="sd">    To create a line from ``(14, 41)`` to ``(601, 106)``::</span>

<span class="sd">        line = GLine(14, 41, 601, 106)</span>

<span class="sd">    To draw two diagonal lines crossing a :class:`GWindow`::</span>

<span class="sd">        window = GWindow()</span>
<span class="sd">        window.add(GLine(0, 0, window.width, window.height))</span>
<span class="sd">        window.add(GLine(0, window.height, window.width, 0))</span>

<span class="sd">    Note that creating a :class:`GLine` will not automatically add it to any</span>
<span class="sd">    displays. Rather, you must explicitly call the `.add` method on an</span>
<span class="sd">    appropriate :class:`GWindow`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a line segment from its endpoints.</span>

<span class="sd">        The first two parameters ``(x0, y0)`` define the start of the line, and</span>
<span class="sd">        the next two parameters ``(x1, y1)`` define the end of the line.</span>

<span class="sd">        To create a line from ``(0, 0)`` to ``(41, 106)``::</span>

<span class="sd">            line = GLine(0, 0, 41, 106)</span>

<span class="sd">        :param x0: The x-coordinate of the starting point.</span>
<span class="sd">        :param y0: The y-coordinate of the starting point.</span>
<span class="sd">        :param x1: The x-coordinate of the ending point.</span>
<span class="sd">        :param y1: The y-coordinate of the ending point.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Consider allowing the user to supply two GPoints (with splats?)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x0</span> <span class="o">=</span> <span class="n">x0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_y0</span> <span class="o">=</span> <span class="n">y0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x1</span> <span class="o">=</span> <span class="n">x1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span> <span class="o">=</span> <span class="n">y1</span>

        <span class="c1"># TODO(sredmond): Don&#39;t bother sending along the values when we also send the built object.</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gline_constructor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set this :class:`GLine`&#39;s starting point.</span>

<span class="sd">        Changing the start point modifies the line segment even if it has</span>
<span class="sd">        already been added to a :class:`GWindow`.</span>

<span class="sd">        Usage::</span>

<span class="sd">            window = GWindow()</span>
<span class="sd">            line = GLine(0, 0, 41, 41)</span>
<span class="sd">            window.add(line)</span>
<span class="sd">            print(line.start)  # =&gt; GPoint(0, 0)</span>
<span class="sd">            line.start = 4, 1</span>
<span class="sd">            print(line.start)  # =&gt; GPoint(4, 1)</span>

<span class="sd">        You can supply either a GPoint or a 2-element tuple to this property.</span>
<span class="sd">        Accessing this property will return a GPoint which can be unpacked as a</span>
<span class="sd">        tuple::</span>

<span class="sd">            window = GWindow()</span>
<span class="sd">            line = GLine(0, 0, 41, 41)</span>
<span class="sd">            window.add(line)</span>
<span class="sd">            line.start = GPoint(16, 25)  # Supply a GPoint to the setter.</span>
<span class="sd">            startx, starty = line.start  # Unpack the start point immediately.</span>

<span class="sd">        Setting the start point does not modify the end point. Thus, this is</span>
<span class="sd">        different from setting this :class:`GLine`&#39;s location, which translates</span>
<span class="sd">        the entire line segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GPoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_x0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y0</span><span class="p">)</span>

    <span class="nd">@start</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_point</span><span class="p">):</span>
        <span class="c1"># Attempt to unpack the supplied start point as a tuple. This supports</span>
        <span class="c1"># both GPoints and 2-element tuples.</span>
        <span class="n">start_x</span><span class="p">,</span> <span class="n">start_y</span> <span class="o">=</span> <span class="n">start_point</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x0</span> <span class="o">=</span> <span class="n">start_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_y0</span> <span class="o">=</span> <span class="n">start_y</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gline_set_start_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y0</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set this :class:`GLine`&#39;s ending point.</span>

<span class="sd">        Changing the end point modifies the line segment even if it has</span>
<span class="sd">        already been added to a :class:`GWindow`.</span>

<span class="sd">        Usage::</span>

<span class="sd">            window = GWindow()</span>
<span class="sd">            line = GLine(0, 0, 41, 41)</span>
<span class="sd">            window.add(line)</span>
<span class="sd">            print(line.end)  # =&gt; GPoint(41, 41)</span>
<span class="sd">            line.end = 4, 1</span>
<span class="sd">            print(line.end)  # =&gt; GPoint(4, 1)</span>

<span class="sd">        You can supply either a GPoint or a 2-element tuple to this property.</span>
<span class="sd">        Accessing this property will return a GPoint which can be unpacked as a</span>
<span class="sd">        tuple::</span>

<span class="sd">            window = GWindow()</span>
<span class="sd">            line = GLine(0, 0, 41, 41)</span>
<span class="sd">            window.add(line)</span>
<span class="sd">            line.end = GPoint(106, 106)  # Supply a GPoint to the setter.</span>
<span class="sd">            endx, endy = line.start  # Unpack the end point immediately.</span>

<span class="sd">        Setting the end point does not modify the start point. Thus, this is</span>
<span class="sd">        different from setting this :class:`GLine`&#39;s location, which translates</span>
<span class="sd">        the entire line segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GPoint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_x1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span><span class="p">)</span>

    <span class="nd">@end</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">end_point</span><span class="p">):</span>
        <span class="c1"># Attempt to unpack the supplied start point as a tuple. This supports</span>
        <span class="c1"># both GPoints and 2-element tuples.</span>
        <span class="n">end_x</span><span class="p">,</span> <span class="n">end_y</span> <span class="o">=</span> <span class="n">start_point</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x1</span> <span class="o">=</span> <span class="n">end_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span> <span class="o">=</span> <span class="n">end_y</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gline_set_start_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span><span class="p">)</span>

    <span class="c1"># TODO(sredmond): Add methods to get/set dx/dy?</span>
    <span class="c1"># TODO(sredmond): Add methods to get/set just x0/y0/x1/y1?</span>

    <span class="c1"># TODO(sredmond): Implement bounds.</span>
    <span class="c1"># @property</span>
    <span class="c1"># def bounds</span>

    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">1.5</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Implement ``point in self``.</span>

<span class="sd">        Check whether a given :class:`GPoint` or 2-element tuple is contained</span>
<span class="sd">        within this line.</span>

<span class="sd">        Since a line segment technically has zero area, this method actual checks</span>
<span class="sd">        whether the supplied point is within some small, default tolerance (inclusive)</span>
<span class="sd">        of any point on the line segment, measured by perpendicular distance.</span>
<span class="sd">        For example, the point ``(2, 2)`` is within the default tolerance of</span>
<span class="sd">        the line from ``(0, 0)`` to ``(5, 5)``::</span>

<span class="sd">            line = GLine(0, 0, 5, 5)</span>
<span class="sd">            print((2, 2) in line)  # =&gt; True</span>
<span class="sd">            print((0, 5) in line)  # =&gt; False</span>

<span class="sd">        For advanced users, this method is overloaded with an optional tolerance</span>
<span class="sd">        parameter. Since *almost* no one will ever want to directly call</span>
<span class="sd">        ``self.__contains__(point)``, the tolerance defaults to a reasonable value.</span>
<span class="sd">        However, to check for containment with a custom tolerance, call::</span>

<span class="sd">            line = GLine(0, 0, 5, 5)</span>
<span class="sd">            print(line.__contains__((2, 2), tolerance=0.5))  # =&gt; False</span>

<span class="sd">        :param point: The :class:`GPoint` or 2-element tuple to check.</span>
<span class="sd">        :param tolerance: The maximum distance (in pixels) to still count as containment.</span>
<span class="sd">        :returns: Whether the point is within a tolerance of any point on this line.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): This method will need to change if the GLine is transformed.</span>

        <span class="c1"># The distance between a point (x, y) and a line (infinite, not a segment)</span>
        <span class="c1"># between two points (x0, y0) and (x1, y1) is given by:</span>
        <span class="c1">#</span>
        <span class="c1">#    |(y1 - y0) * x - (x1 - x0) * y + x1 * y0 - y1 * x0|</span>
        <span class="c1">#    ---------------------------------------------------</span>
        <span class="c1">#           distance between (x0, y0) and (x1, y1)</span>
        <span class="c1"># Attempt to unpack the supplied point as a tuple.</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">point</span>

        <span class="c1"># If our line segment is really a point, just check the circle.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x0</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y0</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_x0</span> <span class="o">-</span> <span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y0</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">tolerance</span>

        <span class="c1"># If the distance to either of the endpoints is small enough, we&#39;re good.</span>
        <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_x0</span> <span class="o">-</span> <span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y0</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">tolerance</span> <span class="ow">or</span> <span class="n">math</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_x1</span> <span class="o">-</span> <span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">tolerance</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="c1"># Compute coefficients a, b, c for the expression of this line as ax + by + c = 0</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y0</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x0</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x1</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x1</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y0</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x0</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

        <span class="n">proj_x</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">x</span> <span class="o">-</span> <span class="n">a</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">dist</span> <span class="o">*</span> <span class="n">dist</span><span class="p">)</span>
        <span class="n">proj_y</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">a</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="n">b</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">dist</span> <span class="o">*</span> <span class="n">dist</span><span class="p">)</span>

        <span class="c1"># Otherwise, we&#39;re only close enough if (1) the point we project to (on</span>
        <span class="c1"># the full line) is between the two endpoints AND (2) we are close enough</span>
        <span class="c1"># to that point.</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_x0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x1</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">proj_x</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_x0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x1</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_y0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">proj_y</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_y0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y1</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">b</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span> <span class="o">/</span> <span class="n">dist</span> <span class="o">&lt;=</span> <span class="n">tolerance</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;GLine(</span><span class="si">{self.x0}</span><span class="s2">, </span><span class="si">{self.y0}</span><span class="s2">, </span><span class="si">{self.x1}</span><span class="s2">, </span><span class="si">{self.y1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="GImage"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GImage">[docs]</a><span class="k">class</span> <span class="nc">GImage</span><span class="p">(</span><span class="n">GObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Graphical representation of an image from a file.</span>

<span class="sd">    To display a centered :class:`GImage` of the Stanford tree::</span>

<span class="sd">        window = GWindow()</span>
<span class="sd">        tree = GImage(&quot;StanfordTree.gif&quot;)</span>
<span class="sd">        x = (window.width - tree.width) / 2</span>
<span class="sd">        y = (window.height - tree.height) / 2</span>
<span class="sd">        window.add(tree, x, y)</span>

<span class="sd">    The above code assumes that you have a file named ``StanfordTree.gif`` in</span>
<span class="sd">    the current directory.</span>

<span class="sd">    The search for matching image files begins in the current directory and,</span>
<span class="sd">    failing that, searches an ``images/`` subdirectory relative to the calling script.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO(sredmond): Have a environmental variable for a custom subdirectory.</span>
    <span class="c1"># TODO(sredmond): When would you use a GImage over a GBufferedImage?</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize a new image from the given file.</span>

<span class="sd">        The image file should either exist in the current directory or in a</span>
<span class="sd">        subdirectory named ``images/``.</span>

<span class="sd">        By default, the upper left corner of the image appears at the origin.</span>
<span class="sd">        By supplying x- and y- coordinates, the caller can set the location</span>
<span class="sd">        to the point (x, y).</span>

<span class="sd">        :param filename: the name of the image file to load.</span>
<span class="sd">        :param x: (optional) the x-coordinate to which to move this :class:`GImage`.</span>
<span class="sd">        :param y: (optional) the y-coordinate to which to move this :class:`GImage`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_path</span> <span class="o">=</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">image_find</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_image</span> <span class="o">=</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gimage_constructor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_size</span> <span class="o">=</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gimage_constructor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">filename</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get this :class:`GImage`&#39;s filename.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the bounding box for this :class:`GImage`.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">:</span> <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_get_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GRectangle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;GImage(</span><span class="si">{!r}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span></div>


<div class="viewcode-block" id="GLabel"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GLabel">[docs]</a><span class="k">class</span> <span class="nc">GLabel</span><span class="p">(</span><span class="n">GObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Graphical representation of a text string.</span>

<span class="sd">    For example, to add a :class:`GLabel` with the message &quot;Hello, world!&quot; to</span>
<span class="sd">    the center of a :class:`GWindow`::</span>

<span class="sd">        window = GWindow()</span>
<span class="sd">        label = GLabel(&quot;Hello, world!&quot;)</span>
<span class="sd">        label.font = &quot;SansSerif-18&quot;</span>
<span class="sd">        x = (window.width - label.width) / 2</span>
<span class="sd">        y = (window.height + label.ascent) / 2</span>
<span class="sd">        window.add(label, x, y)</span>

<span class="sd">    In order to control the appearance and positioning of a :class:`GLabel`,</span>
<span class="sd">    it&#39;s important to understand the following terms:</span>

<span class="sd">        - The baseline is the horizontal line on which the characters rest.</span>
<span class="sd">        - The origin is the point on the baseline at which the label begins.</span>
<span class="sd">        - The height is the distance (in pixels) that would separate two</span>
<span class="sd">          successive lines such that characters would not overlap.</span>
<span class="sd">        - The ascent is the maximum distance that any character in this font</span>
<span class="sd">          extends above the baseline.</span>
<span class="sd">        - The descent is the maximum distance that any character in this font</span>
<span class="sd">          extends below the baseline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO(sredmond): Are ascent and descent distances for the given text, or for the font itself?</span>
    <span class="c1"># TODO(sredmond): What exactly do we mean in the description of height above?</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize a :class:`GLabel` displaying a given label.</span>

<span class="sd">        Supplying x and y arguments sets the location of the :class:`GLabel` to</span>
<span class="sd">        (x, y). Recall that the location of a :class:`GLabel` is its bottom-left</span>
<span class="sd">        coordinate.</span>

<span class="sd">        :param label: The message to display in this :class:`GLabel`.</span>
<span class="sd">        :param x: The x-coordinate of the bottom-left corner of this rectangle.</span>
<span class="sd">        :param y: The y-coordinate of the bottom-left corner of this rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">_gfont</span><span class="o">.</span><span class="n">GFont</span><span class="o">.</span><span class="n">default</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

        <span class="c1"># TODO(sredmond): Check that overriding bounds makes width and height work appropriately.</span>
        <span class="c1"># size = _platform.Platform().glabel_get_size(self)</span>
        <span class="c1"># self.width = size.width</span>
        <span class="c1"># self.height = size.height</span>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">font</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set this :class:`GLabel`&#39;s font.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_font</span>

    <span class="nd">@font</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="n">_gfont</span><span class="o">.</span><span class="n">GFont</span><span class="p">):</span>
            <span class="n">font</span> <span class="o">=</span> <span class="n">_gfont</span><span class="o">.</span><span class="n">GFont</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_font</span> <span class="o">=</span> <span class="n">font</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">glabel_set_font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span>

        <span class="c1"># size = _platform.Platform().glabel_get_size(self)</span>
        <span class="c1"># self.width = size.width</span>
        <span class="c1"># self.height = size.height</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set this :class:`GLabel`&#39;s label.</span>

<span class="sd">        Setting the label changes the internal state of the :class:`GLabel`,</span>
<span class="sd">        so a existing drawn labels will redisplay.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_text</span>

    <span class="nd">@text</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="n">text</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">glabel_set_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>

        <span class="c1"># size = _platform.Platform().glabel_get_size(self)</span>
        <span class="c1"># self.width = size.width</span>
        <span class="c1"># self.height = size.height</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ascent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the maximum distance strings in this font ascend above the baseline.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">ascent</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">descent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the maximum distance strings in this font descend below the baseline.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">descent</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the bounding box for this :class:`GLabel`.</span>

<span class="sd">        The bounding box of a :class:`GLabel` is the smallest rectangle that</span>
<span class="sd">        completely covers the displayed message.</span>

<span class="sd">        :returns: A bounding box that covers this :class:`GLabel`&#39;s message.</span>
<span class="sd">        :rtype: :class:`GRectangle`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): How do we handle bounds when there could be descent?</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">:</span> <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_get_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">linespace</span>
        <span class="c1"># TODO(sredmond): This assumes that linespace is ascent + descent, and we top-justify</span>
        <span class="c1"># the bounding box so the actual box&#39;s y-coordinates go from y - ascent to y - ascent + height.</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GRectangle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">ascent</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;GLabel(&quot;</span><span class="si">{}</span><span class="s1">&quot;)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">)</span></div>


<div class="viewcode-block" id="GPolygon"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GPolygon">[docs]</a><span class="k">class</span> <span class="nc">GPolygon</span><span class="p">(</span><span class="n">GFillableObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Graphical representation of a polygon.</span>

<span class="sd">    Polygons are bounded by line segments. A :class:`GPolygon` is initialized</span>
<span class="sd">    to an empty polygon with no vertices. To complete the figure, you need to</span>
<span class="sd">    add vertices to the polygon using the methods :meth:`add_vertex`,</span>
<span class="sd">    :meth:`add_edge`, or :meth:`add_polar_edge`.</span>

<span class="sd">    To add a filled red octagon to the center of the window::</span>

<span class="sd">        window = GWindow()</span>
<span class="sd">        edge_length = 75</span>
<span class="sd">        stop_sign = GPolygon()</span>
<span class="sd">        start = GPoint(-edge_length / 2, edge_length / 2 + edge_length / math.sqrt(2.0))</span>
<span class="sd">        stop_sign.add_vertex(start)</span>
<span class="sd">        for edge in range(8):</span>
<span class="sd">            stop_sign.add_polar_edge(edge_length, 45*edge)</span>
<span class="sd">        stop_sign.filled = True</span>
<span class="sd">        stop_sign.color = &quot;RED&quot;</span>
<span class="sd">        window.add(stop_sign, window.width / 2, window.height / 2)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize an empty polygon at the origin.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_y</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># _platform.Platform().gpolygon_constructor(self)</span>

<div class="viewcode-block" id="GPolygon.add_vertex"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GPolygon.add_vertex">[docs]</a>    <span class="k">def</span> <span class="nf">add_vertex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">point</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a vertex at a given :class:`GPoint` relative to the polygon origin.&quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Flush out this documentation with the usual messages.</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">point</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_gtypes</span><span class="o">.</span><span class="n">GPoint</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gpolygon_add_vertex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></div>

<div class="viewcode-block" id="GPolygon.add_edge"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GPolygon.add_edge">[docs]</a>    <span class="k">def</span> <span class="nf">add_edge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an edge to the polygon whose components are given by the displacements</span>
<span class="sd">        dx and dy from the last vertex.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Fix documentation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">last_x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">))</span></div>

<div class="viewcode-block" id="GPolygon.add_polar_edge"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GPolygon.add_polar_edge">[docs]</a>    <span class="k">def</span> <span class="nf">add_polar_edge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">theta</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an edge to the polygon specified in polar coordinates.  The length</span>
<span class="sd">        of the edge is given by r, and the edge extends in</span>
<span class="sd">        direction theta, measured in degrees counterclockwise</span>
<span class="sd">        from the +x axis.</span>

<span class="sd">        @type r: float</span>
<span class="sd">        @type theta: float</span>
<span class="sd">        @param theta: degrees</span>
<span class="sd">        @rtype: void</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Fix documentation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
            <span class="n">r</span> <span class="o">*</span> <span class="n">_gmath</span><span class="o">.</span><span class="n">cos_degrees</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span>
            <span class="o">-</span><span class="n">r</span> <span class="o">*</span> <span class="n">_gmath</span><span class="o">.</span><span class="n">sin_degrees</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
        <span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the bounding box for this :class:`GPolygon`.</span>

<span class="sd">        :returns: The bounding box of this :class:`GPolygon`.</span>
<span class="sd">        :rtype: :class:`GRectangle`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">:</span> <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_get_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">xs</span> <span class="o">=</span> <span class="p">[</span><span class="n">vertex</span><span class="o">.</span><span class="n">x</span> <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">]</span>
        <span class="n">ys</span> <span class="o">=</span> <span class="p">[</span><span class="n">vertex</span><span class="o">.</span><span class="n">y</span> <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">]</span>
        <span class="n">min_x</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
        <span class="n">max_x</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
        <span class="n">min_y</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span>
        <span class="n">max_y</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GRectangle</span><span class="p">(</span><span class="n">min_x</span><span class="p">,</span> <span class="n">min_y</span><span class="p">,</span> <span class="n">max_x</span> <span class="o">-</span> <span class="n">min_x</span><span class="p">,</span> <span class="n">max_y</span> <span class="o">-</span> <span class="n">min_y</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">point</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Implement ``point in self``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Add the usual documentation here.</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">point</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">:</span> <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="c1"># TOOD(sredmond): Verify this containment algorithm.</span>
        <span class="n">crossings</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">):</span> <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">vertices</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span> <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">x0</span> <span class="o">=</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getX</span><span class="p">()</span>
        <span class="n">y0</span> <span class="o">=</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getY</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">x1</span> <span class="o">=</span> <span class="n">vertices</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">getX</span><span class="p">()</span>
            <span class="n">y1</span> <span class="o">=</span> <span class="n">vertices</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">getY</span><span class="p">()</span>
            <span class="k">if</span><span class="p">((</span><span class="n">y0</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span> <span class="o">!=</span> <span class="p">(</span><span class="n">y1</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">-</span> <span class="n">x0</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">x1</span><span class="o">-</span><span class="n">x0</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">y0</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">y1</span><span class="o">-</span><span class="n">y0</span><span class="p">)):</span>
                <span class="n">crossings</span> <span class="o">=</span> <span class="n">crossings</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">x0</span> <span class="o">=</span> <span class="n">x1</span>
            <span class="n">y0</span> <span class="o">=</span> <span class="n">y1</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">crossings</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;GPolygon(num_vertices=</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">))</span></div>


<div class="viewcode-block" id="GCompound"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GCompound">[docs]</a><span class="k">class</span> <span class="nc">GCompound</span><span class="p">(</span><span class="n">GObject</span><span class="p">,</span> <span class="n">MutableSequence</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A graphics object that is a collection of other graphics objects.</span>

<span class="sd">    Once assembled, the contained :class:`GObject`s can be manipulated as a unit.</span>

<span class="sd">    The :class:`GCompound` has its own position, and items within in are drawn</span>
<span class="sd">    relative to that position.</span>

<span class="sd">    Internally, the :class:`GCompound` just holds a stack of its :class:`GObject`s.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO(sredmond): I was a little delirious when I wrote this - take another look over it.</span>
    <span class="c1"># TODO(sredmond): It&#39;s a little weird to make this into a collection.</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create an empty :class:`GCompound`.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gcompound_constructor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="c1"># These abstract methods end up adding a bunch of derived methods, some of which are nice.</span>
    <span class="c1"># One of these is __contains__, which we override for the point containment. That might break</span>
    <span class="c1"># something unexpectedly, so TODO(sredmond): Read more about these abstract superclasses and</span>
    <span class="c1"># make a call.</span>
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the :class:`GObject` at the given index.</span>

<span class="sd">        The number is from back to front in the z-dimension. That is, index 0</span>
<span class="sd">        refers to the backmost element and index -1 refers to the frontmost element.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">gobj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_remove</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
        <span class="n">gobj</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># Definitely keep this one!</span>
        <span class="sd">&quot;&quot;&quot;Return the number of graphical objects stored in this :class:`GCompound`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>

<div class="viewcode-block" id="GCompound.insert"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GCompound.insert">[docs]</a>    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>
    <span class="c1"># End abstract methods.</span>

<div class="viewcode-block" id="GCompound.add"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GCompound.add">[docs]</a>    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gobj</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a new :class:`GObject` to this :class:`GCompound`.</span>

<span class="sd">        If two additional arguments x and y are both supplied, move the object</span>
<span class="sd">        to ``(x, y)`` first. It is an error to specify just one of x and y.</span>

<span class="sd">        :param gobj: The object to add to this compound.</span>
<span class="sd">        :param x: (optional) The x-coordinate of the location to which to move this object.</span>
<span class="sd">        :param y: (optional) The y-coordinate of the location to which to move this object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): Raise an error if only x or only y is set.</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">y</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">gobj</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="c1"># Dispatch the constructor to the appropriate backend constructor.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">gobj</span><span class="p">,</span> <span class="n">GLine</span><span class="p">):</span>
            <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gline_constructor</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">gobj</span><span class="p">,</span> <span class="n">GImage</span><span class="p">):</span>
            <span class="c1"># TODO(sredmond): Warn against creating a polygon w/o enough vertices.</span>
            <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gimage_constructor</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">gobj</span><span class="p">,</span> <span class="n">GRect</span><span class="p">):</span>
            <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">grect_constructor</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">gobj</span><span class="p">,</span> <span class="n">GOval</span><span class="p">):</span>
            <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">goval_constructor</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">gobj</span><span class="p">,</span> <span class="n">GArc</span><span class="p">):</span>
            <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">garc_constructor</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">gobj</span><span class="p">,</span> <span class="n">GLabel</span><span class="p">):</span>
            <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">glabel_constructor</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">gobj</span><span class="p">,</span> <span class="n">GPolygon</span><span class="p">):</span>
            <span class="c1"># TODO(sredmond): Warn against creating a polygon w/o enough vertices.</span>
            <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gpolygon_constructor</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>

        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gcompound_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gobj</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
        <span class="n">gobj</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="GCompound.remove"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GCompound.remove">[docs]</a>    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gobj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove a :class:`GObject` from this :class:`GCompound`.</span>

<span class="sd">        Return whether or not the :class:`GCompound` contained the :class:`GObject`.</span>

<span class="sd">        :param gobj: The object to remove.</span>
<span class="sd">        :returns: Whether this compound contained the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO(sredmond): People familiar with Python lists might expect this to raise a ValueError if the gobj isn&#39;t there.</span>

        <span class="c1"># TODO(sredmond): Don&#39;t blindly delete from the backend if it&#39;s not added.</span>
        <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_remove</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="GCompound.clear"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GCompound.clear">[docs]</a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all graphical objects from the GCompound.&quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the bounding box for this :class:`GCompound`.</span>

<span class="sd">        The bounding box of a :class:`GCompound` is the smallest rectangle that</span>
<span class="sd">        covers all of its components bounding boxes.</span>

<span class="sd">        :returns: A bounding box that covers all of this compounds components.</span>
<span class="sd">        :rtype: :class:`GRectangle`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_get_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">min_x</span> <span class="o">=</span> <span class="nb">min</span><span class="p">((</span><span class="n">obj</span><span class="o">.</span><span class="n">x</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">),</span> <span class="n">default</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">min_y</span> <span class="o">=</span> <span class="nb">min</span><span class="p">((</span><span class="n">obj</span><span class="o">.</span><span class="n">y</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">),</span> <span class="n">default</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">max_x</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="n">obj</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">obj</span><span class="o">.</span><span class="n">width</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">),</span> <span class="n">default</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">max_y</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="n">obj</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">obj</span><span class="o">.</span><span class="n">height</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">),</span> <span class="n">default</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">_gtypes</span><span class="o">.</span><span class="n">GRectangle</span><span class="p">(</span><span class="n">min_x</span><span class="p">,</span> <span class="n">min_y</span><span class="p">,</span> <span class="n">max_x</span> <span class="o">-</span> <span class="n">min_x</span><span class="p">,</span> <span class="n">max_y</span> <span class="o">-</span> <span class="n">min_y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">point</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Implement ``point in self``.</span>

<span class="sd">        Check whether a given :class:`GPoint` or 2-element tuple is contained</span>
<span class="sd">        within the bounding box of this :class:`GCompound`. A point is contained</span>
<span class="sd">        within a GCompound if it is contained within any of the components.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Attempt to unpack the supplied point as a tuple.</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">point</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transformed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">any</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="n">obj</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>

<div class="viewcode-block" id="GCompound.send_forward"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GCompound.send_forward">[docs]</a>    <span class="k">def</span> <span class="nf">send_forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gobj</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">gobj</span><span class="p">)</span>
                <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_send_forward</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span></div>

<div class="viewcode-block" id="GCompound.send_to_front"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GCompound.send_to_front">[docs]</a>    <span class="k">def</span> <span class="nf">send_to_front</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gobj</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">gobj</span><span class="p">)</span>
                <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_send_to_front</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span></div>

<div class="viewcode-block" id="GCompound.send_backward"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GCompound.send_backward">[docs]</a>    <span class="k">def</span> <span class="nf">send_backward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gobj</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">gobj</span><span class="p">)</span>
                <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_send_backward</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span></div>

<div class="viewcode-block" id="GCompound.send_to_back"><a class="viewcode-back" href="../../../campy.graphics.gobjects.html#campy.graphics.gobjects.GCompound.send_to_back">[docs]</a>    <span class="k">def</span> <span class="nf">send_to_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gobj</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">gobj</span><span class="p">)</span>
                <span class="n">_platform</span><span class="o">.</span><span class="n">Platform</span><span class="p">()</span><span class="o">.</span><span class="n">gobject_send_to_back</span><span class="p">(</span><span class="n">gobj</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Sam Redmond

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>